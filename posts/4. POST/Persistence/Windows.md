# Shadow Account
## Hidden User
```powershell
net user hack$ P@ssw0rd /add
# 隐藏用户，但在用户管理界面可见
```
**优势**
隐蔽性：影子用户账户不会在用户列表中显示，这使得它们对于普通用户和管理员来说很难被发现。
持久性：即使系统重启，影子用户账户仍然存在，提供了一种持久的访问方式。
灵活性：影子用户可以被配置为具有不同的权限级别，允许攻击者根据需要执行各种操作。
绕过安全策略：影子用户可以绕过一些基于用户的安全策略和访问控制。
易于管理：一旦影子用户账户被创建，它们可以很容易地用于远程访问或执行任务。
**劣势**
检测性：虽然影子用户对于普通用户难以发现，但**有经验的系统管理员可以通过仔细检查系统日志和配置文件**来检测它们的存在。
依赖性：影子用户账户的创建和维护可能依赖于特定的系统配置或软件漏洞，这可能会随着系统更新而变得不再有效。
风险性：如果影子用户账户被创建不当，可能会留下痕迹，如异常的系统日志条目，这可能会引起怀疑并导致账户被发现。
局限性：**影子用户账户可能无法访问所有系统资源**，特别是那些需要特定权限或通过其他安全机制保护的资源。

## Clone User
1. `Win-R` --> regedit --> `HKEY_LOCAL_MACHINE\SAM\SAM\Domains\Account\Users\Names`
2. 查看账户的类型，hack$的类型标识为AA，Administrator的类型标识为BB
3. 找到两者对应的十六进制文件夹(AA & BB)
4. 将BB值复制到AA当中
5. 将hack$和AA分别导出
6. `net user hack$ /del`删除该账户
7. 将导出的两个`.reg`再次导回到注册表当中去，克隆账户就实现了
# Scheduled Tasks
## 优劣势
**优势**
支持重启， 灵活性：支持各种触发条件，如时间、系统事件或用户登录等。
**劣势**
会留下日志，依赖任务计划的运行，**如服务被禁用**，任务将无法执行；可能会被系统安全策略限制计划任务的权限；
可能被检查到或者系统更新所影响；
```bash
# 使用Tho用户运行计划任务，一天一次0点运行
schtasks /create /tn hack /tr "C:\windows\Templa.bat" /sc daily /st 00:00 /ru "Tho"
```

# DLL Hijacking
## 优劣势
优势
如果DLL的大小相似，不易被检测；跟随应用程序启动；可能针对多个APP执行DLL劫持保持面大
劣势
受制于应用程序的执行路径与配置，启动应用程序的用户改变；可能被杀软发现；劫持的DLL要顾及与APP的兼容性